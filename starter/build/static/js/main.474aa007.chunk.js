(this["webpackJsonpnd0191-myreads-starter"]=this["webpackJsonpnd0191-myreads-starter"]||[]).push([[0],{29:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n.n(o),s=n(24),a=n.n(s),r=(n(29),n(4)),i=n.n(r),l=n(6),d=n(5),u=n(2),j=(n(31),"currentlyReading"),b="wantToRead",h="read",p=n(3),O=function(e){var t,n=e.book,o=e.updateBook;return Object(p.jsxs)("div",{className:"book",children:[Object(p.jsxs)("div",{className:"book-top",children:[Object(p.jsx)("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:(null===(t=n.imageLinks)||void 0===t?void 0:t.thumbnail)&&"url(".concat(n.imageLinks.thumbnail,")")}}),Object(p.jsx)("div",{className:"book-shelf-changer",children:Object(p.jsxs)("select",{onChange:function(e){o(n,e.target.value)},children:[Object(p.jsx)("option",{value:"none",disabled:!0,children:"Move to..."}),Object(p.jsx)("option",{value:"currentlyReading",selected:n.shelf===j,children:"Currently Reading"}),Object(p.jsx)("option",{value:"wantToRead",selected:n.shelf===b,children:"Want to Read"}),Object(p.jsx)("option",{value:"read",selected:n.shelf===h,children:"Read"}),Object(p.jsx)("option",{value:"none",selected:!n.shelf,children:"None"})]})})]}),Object(p.jsx)("div",{className:"book-title",children:n.title}),Object(p.jsx)("div",{className:"book-authors",children:n.author})]})},k=function(e){var t=e.title,n=e.books,o=e.updateBook;return Object(p.jsxs)("div",{className:"bookshelf",children:[Object(p.jsx)("h2",{className:"bookshelf-title",children:t}),Object(p.jsx)("div",{className:"bookshelf-books",children:Object(p.jsx)("ol",{className:"books-grid",children:null===n||void 0===n?void 0:n.map((function(e){return Object(p.jsx)("li",{children:Object(p.jsx)(O,{book:e,updateBook:o})},e.id)}))})})]})},f=n(11),x=function(e){var t=function(e,t){return null===e||void 0===e?void 0:e.filter((function(e){return e.shelf===t}))};return Object(p.jsxs)("div",{className:"list-books",children:[Object(p.jsx)("div",{className:"list-books-title",children:Object(p.jsx)("h1",{children:"MyReads"})}),Object(p.jsx)("div",{className:"list-books-content",children:Object(p.jsxs)("div",{children:[Object(p.jsx)(k,{title:"Currently Reading",books:t(e.books,j),updateBook:e.updateBook}),Object(p.jsx)(k,{title:"Want to Read",books:t(e.books,b),updateBook:e.updateBook}),Object(p.jsx)(k,{title:"Read",books:t(e.books,h),updateBook:e.updateBook})]})}),Object(p.jsx)("div",{className:"open-search",children:Object(p.jsx)(f.b,{to:"/search",children:"Add a book"})})]})},v=n(18),m="https://reactnd-books-api.udacity.com",y=localStorage.token;y||(y=localStorage.token=Math.random().toString(36).substr(-8));var N={Accept:"application/json",Authorization:y},g=function(){return fetch("".concat(m,"/books"),{headers:N}).then((function(e){return e.json()})).then((function(e){return e.books}))},B=function(e,t){return fetch("".concat(m,"/books/").concat(e.id),{method:"PUT",headers:Object(v.a)(Object(v.a)({},N),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then((function(e){return e.json()}))},w=function(e,t){return fetch("".concat(m,"/search"),{method:"POST",headers:Object(v.a)(Object(v.a)({},N),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:e,maxResults:t})}).then((function(e){return e.json()})).then((function(e){return e.books}))},R=function(e){var t=Object(o.useState)(),n=Object(d.a)(t,2),c=n[0],s=n[1];function a(){return(a=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(t);case 2:n=e.sent,s(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)("div",{className:"search-books",children:[Object(p.jsxs)("div",{className:"search-books-bar",children:[Object(p.jsx)(f.b,{to:"..\\",className:"close-search",children:"Close"}),Object(p.jsx)("div",{className:"search-books-input-wrapper",children:Object(p.jsx)("input",{type:"text",placeholder:"Search by title, author, or ISBN",onChange:function(e){!function(e){a.apply(this,arguments)}(e.target.value)}})})]}),Object(p.jsx)("div",{className:"search-books-results",children:Object(p.jsx)("ol",{className:"books-grid",children:(null===c||void 0===c?void 0:c.length)>0&&c.map((function(t){return Object(p.jsx)("li",{children:Object(p.jsx)(O,{book:t,updateBook:e.updateBook})},t.id)}))})})]})};var S=function(){var e=Object(o.useState)(),t=Object(d.a)(e,2),n=t[0],c=t[1];function s(e,t){return a.apply(this,arguments)}function a(){return(a=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,n);case 2:return e.next=4,r();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(o.useEffect)((function(){var e=!1;return e||r(),function(){e=!0}}),[c]),Object(p.jsx)("div",{className:"app",children:Object(p.jsxs)(u.c,{children:[Object(p.jsx)(u.a,{exact:!0,path:"/",element:Object(p.jsx)(x,{books:n,updateBook:s})}),Object(p.jsx)(u.a,{exact:!0,path:"/search",element:Object(p.jsx)(R,{updateBook:s})})]})})};a.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(f.a,{children:Object(p.jsx)(S,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.474aa007.chunk.js.map